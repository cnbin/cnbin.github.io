
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Redis 安装和使用 - 陈斌彬的技术博客</title>
  <meta name="author" content="陈斌彬">

  
  <meta name="description" content="Redis介绍 Redis is an open source, BSD licensed, advanced key-value cache and store. It is often referred to as a data structure server since keys can &hellip;">
  <meta name="keywords" content="redis">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://cnbin.github.io/blog/2015/06/06/redis-an-zhuang-he-shi-yong/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="陈斌彬的技术博客" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">陈斌彬的技术博客</a></h1>
  
    <h2>Stay foolish,stay hungry</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="cnbin.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation"> 
  <li><a href="/">首页</a></li> 
  <li><a href="/blog/archives">归档</a></li> 
  <li><a href="/about">关于</a></li> 
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Redis 安装和使用</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-06T10:58:46+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:58 am</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img src="http://ww1.sinaimg.cn/mw690/78f9859egw1esufp2x1jyj208k07874m.jpg" alt="img" /></p>

<!--More-->


<h2>Redis介绍</h2>

<p>Redis is an open source, BSD licensed, advanced <strong>key-value cache</strong> and <strong>store</strong>. It is often referred to as a <strong>data structure server</strong> since keys can contain strings, hashes, lists, sets, sorted sets, bitmaps and hyperloglogs.</p>

<p>REmote DIctionary Server(Redis) 是一个由 Salvatore Sanfilippo 写的 <code>key-value</code> 存储系统。Redis 提供了一些丰富的数据结构，包括 lists, sets, ordered sets 以及 hashes ，当然还有和 <code>Memcached</code> 一样的 <code>strings</code> 结构.Redis 当然还包括了对这些数据结构的丰富操作。</p>

<p>Redis 常被称作是一款数据结构服务器（data structure server）。Redis 的键值可以包括字符串（strings）类型，同时它还包括哈希（hashes）、列表（lists）、集合（sets）和 有序集合（sorted sets）等数据类型。 对于这些数据类型，你可以执行原子操作。例如：对字符串进行附加操作（append）；递增哈希中的值；向列表中增加元素；计算集合的交集、并集与差集等。</p>

<h2>Redis的优点</h2>

<p>性能极高 – Redis 能支持超过 100K+ 每秒的读写频率。</p>

<p>丰富的数据类型 – Redis 支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。</p>

<p>原子 – Redis 的所有操作都是原子性的，同时 Redis 还支持对几个操作全并后的原子性执行。</p>

<p>丰富的特性 – Redis 还支持 publish/subscribe, 通知, key 过期等等特性。</p>

<h2>安装</h2>

<p>执行命令：</p>

<pre><code>brew install redis
</code></pre>

<p>安装即可。</p>

<p>如下图所示：</p>

<p><img src="http://ww2.sinaimg.cn/mw690/78f9859egw1ess2tp810lj20fo06r0vm.jpg" alt="img" /></p>

<h2>redis 常用指令</h2>

<ul>
<li><strong>redis-server</strong> is the Redis Server itself.</li>
<li><strong>redis-sentinel</strong> is the Redis Sentinel executable (monitoring and failover).</li>
<li><strong>redis-cli</strong> is the command line interface utility to talk with Redis.</li>
<li><strong>redis-benchmark</strong> is used to check Redis performances.</li>
<li><strong>redis-check-aof</strong> and <strong>redis-check-dump</strong> are useful in the rare event of corrupted data files.</li>
</ul>


<h3>启动 redis(Starting Redis)</h3>

<p><img src="http://ww4.sinaimg.cn/mw690/78f9859egw1ess2szhsiyj20fm0c7djg.jpg" alt="img" /></p>

<p><strong>PS</strong>:warning 提醒这里 redis.conf 配置文件使用默认配置，主要用于开发和测试，但是如果用于生产环境，就需要配置 redis.conf 文件。Homebrew 安装的 redis.conf 放在 <code>/usr/local/etc/</code>目录下。下面是官方的英文解释。</p>

<p>In the above example Redis was started without any explicit configuration file, so all the parameters will use the internal default. This is perfectly fine if you are starting Redis just to play a bit with it or for development, but for production environments you should use a configuration file.</p>

<p>In order to start Redis with a configuration file use the full path of the configuration file as first argument, like in the following example: <code>redis-server /etc/redis.conf</code>. You should use the redis.conf file included in the root directory of the Redis source code distribution as a template to write your configuration file.</p>

<p><img src="http://ww3.sinaimg.cn/mw690/78f9859egw1et14q1zwa2j20mh0bbtb8.jpg" alt="img" /></p>

<h3>启动 Redis-client</h3>

<pre><code>$ su    ( 输入root密码，进入root目录)
$ redis-cli
</code></pre>

<p><img src="http://ww1.sinaimg.cn/mw690/78f9859egw1etczughkw3j206y01tjrg.jpg" alt="img" /></p>

<h3>查看Redis</h3>

<pre><code>$ ps -ef | grep redis
</code></pre>

<p><img src="http://ww1.sinaimg.cn/mw690/78f9859egw1etczug2w0xj20fq029my2.jpg" alt="img" /></p>

<h2>测试(Check if Redis is working)</h2>

<h3>第一步：</h3>

<p>执行命令：</p>

<pre><code>$ redis-cli ping
PONG
</code></pre>

<h3>第二步：</h3>

<pre><code>redis 127.0.0.1:6379&gt; set mykey somevalue
OK
redis 127.0.0.1:6379&gt; get mykey
"somevalue"
</code></pre>

<h2>关闭redis</h2>

<pre><code>$ redis-cli shutdown
</code></pre>

<p>This way Redis will make sure to save the data on disk before quitting.</p>

<h2>安装redis 桌面管理器</h2>

<p><a href="http://redisdesktop.com/download">http://redisdesktop.com/download</a></p>

<h3>Tip:redis 文件中的 dump.rdb 文件是怎么生成的</h3>

<p>简而言之，<code>dump.rdb</code> 是由 Redis 服务器自动生成的</p>

<p>默认情况下 每隔一段时间 redis 服务器程序会自动对数据库做一次遍历，把内存快照写在一个叫做 “dump.rdb” 的文件里，这个持久化机制叫做 S NAPSHOT 。有了 SNAPSHOT 后，如果服务器宕机，重新启动 redis 服务器程序时 redis 会自动加载 dump.rdb ，将数据库状态恢复到上一次做 SNAPSHOT 时的状态。</p>

<p>至于多久做一次 SNAPSHOT，SNAPSHOT 文件的路径和文件名，你可以在 redis 的 conf 文件里指定。</p>

<p>除了 SNAPSHOT，redis 还支持 AOF 持久化。</p>

<h2>参考</h2>

<ul>
<li><a href="http://redis.io/topics/quickstart">redis 快速入门</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">陈斌彬</span></span>

      




<time class='entry-date' datetime='2015-06-06T10:58:46+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:58 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/php/'>php</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/06/06/js-coffeescript-yu-fa/" title="Previous Post: JS-CoffeeScript 语法">&laquo; JS-CoffeeScript 语法</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/06/06/mac-zhong-duan-zhi-ling/" title="Next Post: Mac 终端指令">Mac 终端指令 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section> 
  <h1>文章分类</h1> 
  <ul id="categories"> 
    <li class='category'><a href='/blog/categories/android/'>android (126)</a></li>
<li class='category'><a href='/blog/categories/computer/'>computer (158)</a></li>
<li class='category'><a href='/blog/categories/csharp/'>csharp (56)</a></li>
<li class='category'><a href='/blog/categories/energy/'>energy (17)</a></li>
<li class='category'><a href='/blog/categories/git/'>git (15)</a></li>
<li class='category'><a href='/blog/categories/github/'>github (2)</a></li>
<li class='category'><a href='/blog/categories/ionic/'>ionic (13)</a></li>
<li class='category'><a href='/blog/categories/ios/'>ios (725)</a></li>
<li class='category'><a href='/blog/categories/java/'>java (23)</a></li>
<li class='category'><a href='/blog/categories/js/'>js (141)</a></li>
<li class='category'><a href='/blog/categories/life/'>life (126)</a></li>
<li class='category'><a href='/blog/categories/linux/'>linux (63)</a></li>
<li class='category'><a href='/blog/categories/mac/'>mac (69)</a></li>
<li class='category'><a href='/blog/categories/net/'>net (417)</a></li>
<li class='category'><a href='/blog/categories/network/'>network (2)</a></li>
<li class='category'><a href='/blog/categories/objective-c/'>objective-c (78)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (4)</a></li>
<li class='category'><a href='/blog/categories/php/'>php (24)</a></li>
<li class='category'><a href='/blog/categories/python/'>python (5)</a></li>
<li class='category'><a href='/blog/categories/react/'>react (5)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>ruby (23)</a></li>
<li class='category'><a href='/blog/categories/sql/'>sql (8)</a></li>
<li class='category'><a href='/blog/categories/swift/'>swift (38)</a></li>
<li class='category'><a href='/blog/categories/video/'>video (1)</a></li>
<li class='category'><a href='/blog/categories/web/'>web (184)</a></li>
  
    </ul> 
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/07/26/ba-mac-shang-de-bash-huan-cheng-zsh/">把 Mac 上的 Bash 换成 Zsh</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/26/ox10-dot-11an-zhuang-homebrewhe-cocoapods/">OX10.11安装homebrew和cocoapods</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/11/iosguan-yu-wei-xin-zhi-fu/">iOS关于微信支付</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/09/tools-context/">Tools:context</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/09/java-huo-qu-dang-qian-nian-fen-yue-fen-ri-qi/">Java 获取当前年份 月份 日期</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - 陈斌彬 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
